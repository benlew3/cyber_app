/* ================================================
   EDITORIAL DESIGN SYSTEM
   Premium reading experience for Security+ Platform
   Inspired by: Medium, Masterclass, Stripe Docs
   ================================================ */

:root {
    /* Editorial Color Palette */
    --ed-bg-primary: #0a0a0b;
    --ed-bg-surface: #111113;
    --ed-bg-elevated: #18181b;
    --ed-bg-accent: #1c1c20;
    
    /* Text Colors - High Contrast for Reading */
    --ed-text-primary: #f4f4f5;
    --ed-text-secondary: #a1a1aa;
    --ed-text-muted: #71717a;
    --ed-text-accent: #93c5fd;
    
    /* Accent Colors */
    --ed-accent: #6366f1;
    --ed-accent-soft: rgba(99, 102, 241, 0.15);
    --ed-success: #10b981;
    --ed-success-soft: rgba(16, 185, 129, 0.12);
    
    /* Borders */
    --ed-border: #27272a;
    --ed-border-subtle: #1f1f23;
    
    /* Typography Scale */
    --ed-text-xs: 0.75rem;
    --ed-text-sm: 0.875rem;
    --ed-text-base: 1.0625rem;  /* 17px - optimal reading */
    --ed-text-lg: 1.125rem;
    --ed-text-xl: 1.25rem;
    --ed-text-2xl: 1.5rem;
    --ed-text-3xl: 1.875rem;
    
    /* Spacing Scale */
    --ed-space-1: 4px;
    --ed-space-2: 8px;
    --ed-space-3: 12px;
    --ed-space-4: 16px;
    --ed-space-5: 20px;
    --ed-space-6: 24px;
    --ed-space-8: 32px;
    --ed-space-10: 40px;
    --ed-space-12: 48px;
    --ed-space-16: 64px;
    
    /* Reading Optimized */
    --ed-content-width: 720px;
    --ed-line-height: 1.75;
    --ed-paragraph-spacing: 1.5em;
}

/* ================================================
   LESSON VIEWER - EDITORIAL LAYOUT
   Using high specificity to override app.js styles
   ================================================ */

body .lesson-viewer,
.container .lesson-viewer {
    display: block !important;
    background: var(--ed-bg-surface);
    border-radius: 16px;
    padding: var(--ed-space-12) var(--ed-space-16);
    margin-top: var(--ed-space-6);
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* Lesson Title */
body .lesson-viewer h1,
.container .lesson-viewer h1 {
    font-size: var(--ed-text-3xl);
    font-weight: 700;
    color: var(--ed-text-primary);
    line-height: 1.25;
    margin-bottom: var(--ed-space-3);
    letter-spacing: -0.025em;
}

/* ================================================
   NAVIGATION - MINIMAL TOP NAV
   ================================================ */

body .lesson-viewer .lesson-nav,
.lesson-viewer .lesson-nav {
    display: flex !important;
    grid-template-columns: unset !important;
    justify-content: space-between;
    gap: var(--ed-space-4);
    margin-bottom: var(--ed-space-10);
    padding-bottom: var(--ed-space-6);
    border-bottom: 1px solid var(--ed-border-subtle);
}

body .lesson-viewer .lesson-nav-btn,
.lesson-viewer .lesson-nav-btn {
    background: transparent;
    border: 1px solid var(--ed-border);
    border-radius: 8px;
    padding: var(--ed-space-3) var(--ed-space-5);
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--ed-text-secondary);
    flex: 0 1 auto;
    max-width: 45%;
}

body .lesson-viewer .lesson-nav-btn:hover,
.lesson-viewer .lesson-nav-btn:hover {
    background: var(--ed-bg-elevated);
    border-color: var(--ed-border);
    color: var(--ed-text-primary);
}

body .lesson-viewer .lesson-nav-btn.next,
.lesson-viewer .lesson-nav-btn.next {
    background: var(--ed-accent);
    border-color: var(--ed-accent);
    color: white;
    text-align: right;
}

body .lesson-viewer .lesson-nav-btn.next:hover,
.lesson-viewer .lesson-nav-btn.next:hover {
    background: #4f46e5;
    border-color: #4f46e5;
}

.lesson-viewer .lesson-nav-btn-label {
    font-size: var(--ed-text-xs);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.7;
    margin-bottom: 2px;
}

.lesson-viewer .lesson-nav-btn-title {
    font-size: var(--ed-text-sm);
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.lesson-viewer .lesson-nav-placeholder {
    visibility: hidden;
    flex: 0 1 45%;
}

/* ================================================
   INTRODUCTION - EDITORIAL LEAD
   ================================================ */

body .lesson-viewer .intro-section,
.lesson-viewer .intro-section {
    background: transparent !important;
    border-left: 3px solid var(--ed-accent);
    border-right: none;
    border-top: none;
    border-bottom: none;
    padding: 0 0 0 var(--ed-space-6);
    margin-bottom: var(--ed-space-12);
    border-radius: 0;
}

.lesson-viewer .intro-section p,
.lesson-viewer .intro-section .content-para {
    font-size: var(--ed-text-lg) !important;
    line-height: 1.7;
    color: var(--ed-text-secondary);
    margin: 0;
    font-style: italic;
}

/* ================================================
   LEARNING GOALS - COMPACT CHECKLIST
   ================================================ */

body .lesson-viewer .lesson-section.learning-goals,
.lesson-viewer .lesson-section.learning-goals {
    background: var(--ed-bg-elevated);
    border-radius: 12px;
    padding: var(--ed-space-6);
    margin-bottom: var(--ed-space-10);
    border: none !important;
}

.lesson-viewer .lesson-section.learning-goals h3 {
    font-size: var(--ed-text-sm) !important;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--ed-text-muted) !important;
    margin-bottom: var(--ed-space-4);
}

.lesson-viewer .lesson-section.learning-goals ul {
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--ed-space-2);
}

.lesson-viewer .lesson-section.learning-goals li {
    position: relative;
    padding: var(--ed-space-2) 0 var(--ed-space-2) var(--ed-space-6) !important;
    margin: 0 !important;
    font-size: var(--ed-text-sm);
    color: var(--ed-text-secondary);
    border: none !important;
    line-height: 1.5;
}

.lesson-viewer .lesson-section.learning-goals li::before {
    content: "âœ“" !important;
    position: absolute;
    left: 0 !important;
    top: var(--ed-space-2);
    color: var(--ed-success);
    font-weight: 600;
    font-size: var(--ed-text-sm);
    transform: none !important;
}

/* ================================================
   MAIN CONTENT SECTIONS
   ================================================ */

body .lesson-viewer .lesson-section,
.lesson-viewer .lesson-section {
    margin-bottom: var(--ed-space-12);
    padding-bottom: var(--ed-space-10);
    border-bottom: 1px solid var(--ed-border-subtle);
}

body .lesson-viewer .lesson-section:last-of-type,
.lesson-viewer .lesson-section:last-of-type {
    border-bottom: none;
    margin-bottom: var(--ed-space-8);
    padding-bottom: 0;
}

/* Section Headings */
body .lesson-viewer .lesson-section h3,
.lesson-viewer .lesson-section h3 {
    font-size: var(--ed-text-2xl) !important;
    font-weight: 600;
    color: var(--ed-text-accent) !important;
    margin-bottom: var(--ed-space-5);
    letter-spacing: -0.01em;
    line-height: 1.3;
}

/* ================================================
   LESSON CONTENT - EDITORIAL TYPOGRAPHY
   ================================================ */

body .lesson-viewer .lesson-content,
.lesson-viewer .lesson-content {
    font-size: var(--ed-text-base) !important;
    line-height: var(--ed-line-height) !important;
    color: var(--ed-text-primary);
    max-width: var(--ed-content-width);
    display: block;
    width: 100%;
}

/* Paragraphs */
.lesson-viewer .lesson-content .content-para {
    margin-bottom: var(--ed-paragraph-spacing);
    display: block;
    width: 100%;
}

.lesson-viewer .lesson-content .content-para:last-child {
    margin-bottom: 0;
}

/* Bold/Definition Terms */
.lesson-viewer .lesson-content .definition-term {
    color: var(--ed-text-primary);
    font-weight: 600;
}

/* Section Subheadings */
.lesson-viewer .lesson-content .section-subheading {
    display: block;
    font-size: var(--ed-text-lg) !important;
    font-weight: 600;
    font-style: normal !important;
    color: var(--ed-text-primary);
    margin-top: var(--ed-space-8);
    margin-bottom: var(--ed-space-3);
}

/* Emphasis */
.lesson-viewer .lesson-content em {
    color: var(--ed-text-secondary);
    font-style: italic;
}

/* ================================================
   LISTS - CLEAN AND READABLE
   ================================================ */

.lesson-viewer .lesson-content .content-list {
    margin: var(--ed-space-4) 0 var(--ed-space-6) 0 !important;
    padding: 0 !important;
    list-style: none !important;
    display: block;
    width: 100%;
}

.lesson-viewer .lesson-content .content-list li {
    position: relative;
    padding: var(--ed-space-2) 0 var(--ed-space-2) var(--ed-space-6) !important;
    margin: 0 !important;
    line-height: 1.65;
    color: var(--ed-text-primary);
    border-bottom: none !important;
}

.lesson-viewer .lesson-content .content-list li::before {
    content: "â€“" !important;
    position: absolute;
    left: 0 !important;
    color: var(--ed-text-muted);
    font-weight: 400;
    font-size: 1em;
}

/* ================================================
   KEY POINTS BOX - SUBTLE HIGHLIGHT
   ================================================ */

body .lesson-viewer .key-points-box,
.lesson-viewer .key-points-box {
    background: var(--ed-accent-soft) !important;
    border: none !important;
    border-radius: 8px;
    padding: var(--ed-space-5) var(--ed-space-6);
    margin-top: var(--ed-space-8);
}

.lesson-viewer .key-points-box strong {
    display: block;
    font-size: var(--ed-text-xs) !important;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--ed-accent) !important;
    margin-bottom: var(--ed-space-3);
    font-weight: 600;
}

.lesson-viewer .key-points-box ul {
    margin: 0 !important;
    padding: 0 !important;
    list-style: none !important;
}

.lesson-viewer .key-points-box li {
    position: relative;
    padding: var(--ed-space-2) 0 var(--ed-space-2) var(--ed-space-5) !important;
    margin: 0 !important;
    font-size: var(--ed-text-sm);
    line-height: 1.6;
    color: var(--ed-text-primary);
    border: none !important;
}

.lesson-viewer .key-points-box li::before {
    content: "â†’" !important;
    position: absolute;
    left: 0 !important;
    color: var(--ed-accent);
    font-size: var(--ed-text-sm);
}

/* ================================================
   EXAM TIPS - DISTINCT BUT SUBTLE
   ================================================ */

body .lesson-viewer .exam-tips-box,
.lesson-viewer .exam-tips-box {
    background: rgba(139, 92, 246, 0.08) !important;
    border: none !important;
    border-radius: 8px;
    padding: var(--ed-space-5) var(--ed-space-6);
    margin-top: var(--ed-space-6);
}

.lesson-viewer .exam-tips-box h3,
.lesson-viewer .exam-tips-box strong {
    display: block;
    font-size: var(--ed-text-xs) !important;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #a78bfa !important;
    margin-bottom: var(--ed-space-3);
    font-weight: 600;
}

.lesson-viewer .exam-tips-box ul {
    margin: 0 !important;
    padding: 0 !important;
    list-style: none !important;
}

.lesson-viewer .exam-tips-box li {
    position: relative;
    padding: var(--ed-space-2) 0 var(--ed-space-2) var(--ed-space-5) !important;
    margin: 0 !important;
    font-size: var(--ed-text-sm);
    line-height: 1.6;
    color: var(--ed-text-secondary);
    border: none !important;
}

.lesson-viewer .exam-tips-box li::before {
    content: "ðŸ’¡" !important;
    position: absolute;
    left: 0 !important;
    font-size: 0.75rem;
}

/* ================================================
   REAL WORLD EXAMPLE - CASE STUDY STYLE
   ================================================ */

body .lesson-viewer .real-world-box,
.lesson-viewer .real-world-box {
    background: var(--ed-success-soft) !important;
    border: none !important;
    border-radius: 8px;
    padding: var(--ed-space-5) var(--ed-space-6);
    margin-top: var(--ed-space-6);
}

.lesson-viewer .real-world-box strong {
    display: block;
    font-size: var(--ed-text-xs) !important;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--ed-success) !important;
    margin-bottom: var(--ed-space-3);
    font-weight: 600;
}

.lesson-viewer .real-world-box p,
.lesson-viewer .real-world-box .content-para {
    font-size: var(--ed-text-sm) !important;
    line-height: 1.65;
    color: var(--ed-text-primary);
    margin: 0 0 var(--ed-space-3) 0;
}

.lesson-viewer .real-world-box .content-para:last-child,
.lesson-viewer .real-world-box p:last-of-type:not(.company-name) {
    margin-bottom: 0;
}

.lesson-viewer .real-world-box .company-name {
    font-size: var(--ed-text-xs) !important;
    color: var(--ed-text-muted) !important;
    font-style: italic;
    margin-top: var(--ed-space-3);
    margin-bottom: 0;
}

/* ================================================
   INLINE CODE
   ================================================ */

.lesson-viewer .inline-code {
    background: var(--ed-bg-elevated);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
    font-size: 0.9em;
    color: #f472b6;
    border: 1px solid var(--ed-border);
}

/* ================================================
   CODE BLOCKS
   ================================================ */

.lesson-viewer .code-block {
    background: var(--ed-bg-primary);
    padding: var(--ed-space-5);
    border-radius: 8px;
    overflow-x: auto;
    margin: var(--ed-space-5) 0;
    font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
    font-size: var(--ed-text-sm);
    line-height: 1.6;
    border: 1px solid var(--ed-border);
}

.lesson-viewer .code-block code {
    color: var(--ed-text-primary);
}

/* ================================================
   BOTTOM NAVIGATION
   ================================================ */

body .lesson-viewer .lesson-bottom-nav,
.lesson-viewer .lesson-bottom-nav {
    background: var(--ed-bg-elevated);
    border-radius: 12px;
    padding: var(--ed-space-6);
    margin-top: var(--ed-space-10);
}

.lesson-viewer .lesson-actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--ed-space-3);
    margin-bottom: var(--ed-space-5);
    padding-bottom: var(--ed-space-5);
    border-bottom: 1px solid var(--ed-border-subtle);
}

.lesson-viewer .lesson-prev-next {
    display: flex;
    justify-content: space-between;
    gap: var(--ed-space-4);
}

/* ================================================
   KNOWLEDGE CHECK
   ================================================ */

.lesson-viewer .kc-progress {
    background: var(--ed-bg-elevated);
    padding: var(--ed-space-3) var(--ed-space-4);
    border-radius: 6px;
    font-size: var(--ed-text-sm);
    color: var(--ed-text-muted);
    margin-bottom: var(--ed-space-6);
}

/* ================================================
   SUMMARY LIST
   ================================================ */

.lesson-viewer .summary-list {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.lesson-viewer .summary-list li {
    position: relative;
    padding: var(--ed-space-3) 0 var(--ed-space-3) var(--ed-space-6) !important;
    margin: 0 !important;
    border-bottom: 1px solid var(--ed-border-subtle);
    line-height: 1.6;
    font-size: var(--ed-text-base);
}

.lesson-viewer .summary-list li:last-child {
    border-bottom: none;
}

.lesson-viewer .summary-list li::before {
    content: "âœ“" !important;
    position: absolute;
    left: 0 !important;
    color: var(--ed-success);
    font-weight: 600;
}

/* ================================================
   RESPONSIVE - EDITORIAL
   ================================================ */

@media (max-width: 768px) {
    body .lesson-viewer,
    .container .lesson-viewer {
        padding: var(--ed-space-6) var(--ed-space-5);
        border-radius: 12px;
    }
    
    body .lesson-viewer h1,
    .container .lesson-viewer h1 {
        font-size: var(--ed-text-2xl);
    }
    
    .lesson-viewer .lesson-section h3 {
        font-size: var(--ed-text-xl) !important;
    }
    
    .lesson-viewer .lesson-content {
        font-size: 1rem !important;
    }
    
    .lesson-viewer .lesson-nav {
        flex-direction: column;
    }
    
    .lesson-viewer .lesson-nav-btn {
        max-width: 100%;
    }
    
    .lesson-viewer .lesson-section.learning-goals ul {
        grid-template-columns: 1fr;
    }
    
    .lesson-viewer .lesson-prev-next {
        flex-direction: column;
    }
}

@media (max-width: 480px) {
    body .lesson-viewer,
    .container .lesson-viewer {
        padding: var(--ed-space-5) var(--ed-space-4);
    }
    
    body .lesson-viewer h1,
    .container .lesson-viewer h1 {
        font-size: var(--ed-text-xl);
    }
    
    .lesson-viewer .intro-section {
        padding-left: var(--ed-space-4);
    }
    
    .lesson-viewer .key-points-box,
    .lesson-viewer .exam-tips-box,
    .lesson-viewer .real-world-box {
        padding: var(--ed-space-4);
    }
}
